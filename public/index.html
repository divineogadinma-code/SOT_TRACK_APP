<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#1f1f1f">
    <title>SOT Track - Welcome</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%231f1f1f'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='40' font-weight='bold' fill='%234CAF50' font-family='sans-serif'>SOT</text></svg>">
</head>
<body>

    <!-- The Splash Screen Overlay -->
    <div id="splash-screen">
        <!-- ADDED: The time display -->
        <div id="splash-time"></div>
        
        <div class="splash-logo">SOT</div>
        <div class="ring one"></div>
        <div class="ring two"></div>
        <div class="ring three"></div>
    </div>

    <!-- Your existing content -->
    <div id="main-content" class="container d-flex flex-column justify-content-center align-items-center vh-100" style="visibility: hidden;">
        <header class="text-center mb-5">
            <h1 class="display-3 fw-bold">SOT Track</h1>
            <p class="lead text-body-secondary">Performance & Activity Management System</p>
        </header>
        <main class="text-center">
            <p class="mb-4">Please select your portal to continue.</p>
            <div class="d-grid gap-3 d-sm-flex justify-content-sm-center">
                <a href="/admin-login.html" class="btn btn-primary btn-lg px-4 gap-3">Admin Portal</a>
                <a href="/worker-login.html" class="btn btn-outline-secondary btn-lg px-4">Worker Portal</a>
            </div>
        </main>
    </div>

    <!-- UPDATED: Script to control the splash screen and the clock -->
    <script>
        window.addEventListener('load', () => {
            const splash = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');
            const timeDisplay = document.getElementById('splash-time');

            // Function to update the time
            function updateTime() {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                timeDisplay.textContent = `${hours}:${minutes}`;
            }

            // Update the time immediately and then every second
            updateTime();
            const timeInterval = setInterval(updateTime, 1000);

            // Set a timeout to hide the splash screen and show the content
            setTimeout(() => {
                splash.classList.add('hide');
                mainContent.style.visibility = 'visible';
                mainContent.style.opacity = 1; // Start fade-in
                clearInterval(timeInterval); // Stop updating the time when splash screen is gone
            }, 2500); // 2.5 second delay
        });
    </script>
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('/service-worker.js').then(registration => {
                console.log('ServiceWorker registration successful with scope: ', registration.scope);
            }, err => {
                console.log('ServiceWorker registration failed: ', err);
            });
        });
    }
</script>
</body>
</html>
